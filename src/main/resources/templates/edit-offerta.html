<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<link rel="stylesheet" th:href="@{/webjars/bootstrap/5.2.3/css/bootstrap.min.css}"/>
<title>Insert title here</title>
</head>
<body th:object="${offerta}">
	<div class="container mt-5">
		<div class="row border border-dark pt-5 pb-5">
			<h1 class="text-center">Modifica l'offerta</h1>
			<div class="col d-flex justify-content-center my-3">
				<form class="w-50" th:action="@{/offerta/edit/{id} (id=*{id})}" method="POST">
					<div class="mb-3">
					  <label class="form-label">Titolo</label>
					  <input type="text" class="form-control" name="titolo" th:value="*{titolo}">
					  <label 
					    	style="color: red" 
					    	class="form-label"
					    	th:if="${errors != null && errors.hasFieldErrors('titolo')}">
					    	[[ ${errors.getFieldError('titolo').defaultMessage} ]]
				    	</label>
					</div>
					<div class="mb-3">
					  <label class="form-label">Sconto</label>
					  <input type="number" class="form-control" name="sconto" th:value="*{sconto}">
					  <label 
				    	style="color: red" 
				    	class="form-label"
				    	th:if="${errors != null && errors.hasFieldErrors('sconto')}">
				    	[[ ${errors.getFieldError('sconto').defaultMessage} ]]
			    	</label>
					</div>
					<div class="mb-3">
						  <label class="form-label">Data Inizio</label>
						  <input type="date" class="form-control" name="dataInizio" th:value="*{dataInizio}">
						  <label 
					    	style="color: red" 
					    	class="form-label"
					    	th:if="${errors != null && errors.hasFieldErrors('dataInizio')}">
					    	[[ ${errors.getFieldError('dataInizio').defaultMessage} ]]
				    	</label>
					</div>
					<div class="mb-3">
						  <label class="form-label">Data Fine</label>
						  <input type="date" class="form-control" name="dataFine" th:value="*{dataFine}">
						  <label 
					    	style="color: red" 
					    	class="form-label"
					    	th:if="${errors != null && errors.hasFieldErrors('dataFine')}">
					    	[[ ${errors.getFieldError('dataFine').defaultMessage} ]]
				    	</label>
					</div>
					<div class="mb-3">
						<label class="form-label">Pizza</label>
						<select class="form-select" name="pizza" th:value="${offerta.pizza.id}">
							<option  th:each="pizza : ${pizza_list}" th:object="${pizza}" 
							th:selected="${offerta.pizza.id} == *{id}" th:value="*{id}">[[ *{nome} ]]</option>
						</select>	
					</div> 
					<a class="btn btn-secondary" th:href="@{/offerte}">Torna alle offerte</a>
				  	<button type="submit" class="btn btn-success">Aggiorna</button>
				</form>
			</div>
		</div>
	</div>
</body>
</html>